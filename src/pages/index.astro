---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <main class="container mx-auto px-4 py-20 text-center">

<!-- Hero Section -->
<section class="mb-20">
  <h1 class="text-5xl font-bold mb-6 text-blue-800">
    Create Your Resume Instantly with AI
  </h1>
  <p class="text-xl text-gray-600 mb-8">
    Resumia helps job seekers, students, and freelancers build professional, ATS-friendly resumes and cover letters — in seconds.
  </p>

  <!-- Custom Resume Form -->
  <form id="resumeForm" class="w-full max-w-2xl mx-auto grid gap-4 text-left bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-4 text-blue-800 text-center">Start Building Your Resume</h2>

    <input type="text" name="firstName" placeholder="First Name" required class="border px-4 py-2 rounded">
    <input type="text" name="lastName" placeholder="Last Name" required class="border px-4 py-2 rounded">
    <input type="email" name="email" placeholder="Email" required class="border px-4 py-2 rounded">
    <input type="tel" name="phone" placeholder="Phone Number" required class="border px-4 py-2 rounded">
    <input type="text" name="education" placeholder="Education" required class="border px-4 py-2 rounded">
    <input type="text" name="experience" placeholder="Experience" required class="border px-4 py-2 rounded">
    <input type="text" name="skills" placeholder="Skills (comma-separated)" required class="border px-4 py-2 rounded">
    <textarea name="objective" placeholder="Career Objective" required class="border px-4 py-2 rounded"></textarea>

    <button type="submit" class="bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition">
      Submit & Generate Resume
    </button>
  </form>
</section>

    <!-- How It Works -->
    <section class="mb-20">
      <h2 class="text-3xl font-semibold mb-6 text-blue-800">How It Works</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
        <div class="bg-white shadow-md rounded-lg p-6">
          <h3 class="text-xl font-bold mb-2">1. Fill the Form</h3>
          <p class="text-gray-600">Enter your details or upload an old resume and job description.</p>
        </div>
        <div class="bg-white shadow-md rounded-lg p-6">
          <h3 class="text-xl font-bold mb-2">2. Let AI Build It</h3>
          <p class="text-gray-600">AI creates a tailored resume and cover letter based on your input.</p>
        </div>
        <div class="bg-white shadow-md rounded-lg p-6">
          <h3 class="text-xl font-bold mb-2">3. View Score & Download</h3>
          <p class="text-gray-600">Get instant score, tips, and download after viewing a short ad.</p>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="mb-20">
      <h2 class="text-3xl font-semibold mb-6 text-blue-800">Features</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">AI Resume Builder</h3>
          <p class="text-gray-600">Generate professional resumes based on your experience, skills, and job goals.</p>
        </div>
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">Cover Letter Generator</h3>
          <p class="text-gray-600">Instantly get a customized cover letter that matches your resume.</p>
        </div>
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">Resume Score</h3>
          <p class="text-gray-600">Get feedback, strengths, and improvement tips before applying.</p>
        </div>
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">PDF / Word Download</h3>
          <p class="text-gray-600">Download your resume in your preferred format after watching an ad.</p>
        </div>
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">LinkedIn Import (Coming Soon)</h3>
          <p class="text-gray-600">Auto-fill your resume using your LinkedIn profile data.</p>
        </div>
        <div class="bg-white shadow p-6 rounded-lg">
          <h3 class="text-lg font-bold text-blue-700">Mobile Friendly</h3>
          <p class="text-gray-600">Use Resumia on any device, anytime.</p>
        </div>
      </div>
    </section>

    <!-- Call to Action (optional second form embed) -->
<section class="mt-20 bg-blue-50 py-10 rounded-lg">
  <h2 class="text-3xl font-semibold mb-4 text-blue-800">Ready to Build Your Resume?</h2>
  <p class="text-gray-700 mb-6">Let AI handle the formatting, language, and layout — you focus on landing the job.</p>
  <div class="w-full max-w-2xl mx-auto">
    <!-- Removed iframe here to prevent double embed -->
  </div>
</section>
</main>
<script>
      const formData = {
        firstName: form.firstName.value,
        lastName: form.lastName.value,
        email: form.email.value,
        phone: form.phone.value,
        education: form.education.value,
        experience: form.experience.value,
        skills: form.skills.value,
        objective: form.objective.value
      };

      localStorage.setItem("resumeFormData", JSON.stringify(formData));
      window.location.href = "/processing";
    });
  }
</script>
</Layout>

      // Save to localStorage
      localStorage.setItem("resumeFormData", JSON.stringify(formData));

      // Redirect to processing page
      window.location.href = "/processing";
    }
  });
</Layout>
  <script>
  const form = document.getElementById("resumeForm");
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const formData = {
        firstName: form.firstName.value,
        lastName: form.lastName.value,
        email: form.email.value,
        phone: form.phone.value,
        education: form.education.value,
        experience: form.experience.value,
        skills: form.skills.value,
        objective: form.objective.value
      };

      localStorage.setItem("resumeFormData", JSON.stringify(formData));
      window.location.href = "/processing";
    });
  }
</script>
</Layout>

