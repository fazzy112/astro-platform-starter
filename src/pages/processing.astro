<script>
  document.addEventListener("DOMContentLoaded", function () {
    const openModalBtn = document.querySelector(".btn-primary");
    const modal = document.getElementById("resume-form-modal");
    const form = document.getElementById("resume-form");

    if (openModalBtn && modal) {
      openModalBtn.addEventListener("click", () => {
        modal.classList.remove("hidden");
      });
    }

    if (form) {
      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const formData = {
          name: form.name.value,
          email: form.email.value,
          job: form.job.value,
          education: form.education.value,
          experience: form.experience.value,
          skills: form.skills.value,
          coverLetter: form["cover-letter"].checked
        };

        localStorage.setItem("resumeFormData", JSON.stringify(formData));
        modal.classList.add("hidden");
        window.location.href = "/processing";
      });
    }
  });
</script>
